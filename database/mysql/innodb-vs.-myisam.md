---
description: 在 MySQL 中，InnoDB 和 MyISAM 是两种主要的存储引擎，它们在事务支持、锁机制、查询性能等方面存在显著区别
cover: >-
  https://images.unsplash.com/photo-1735767975829-71496633d499?crop=entropy&cs=srgb&fm=jpg&ixid=M3wxOTcwMjR8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MzkxMDc5MDh8&ixlib=rb-4.0.3&q=85
coverY: 0
---

# InnoDB vs. MyISAM

## 🔥 InnoDB vs. MyISAM 对比表

| 特性        | InnoDB                            | MyISAM                              |
| --------- | --------------------------------- | ----------------------------------- |
| **事务支持**  | ✅ 支持事务 (ACID)                     | ❌ 不支持事务                             |
| **锁机制**   | 行级锁 (Row Locking)，并发性能高           | 表级锁 (Table Locking)，并发性能低           |
| **外键支持**  | ✅ 支持外键 (Foreign Key)              | ❌ 不支持                               |
| **查询速度**  | 适合高并发写操作，支持 MVCC                  | 适合读多写少的场景，查询速度快                     |
| **数据完整性** | 强一致性，支持回滚                         | 可能丢失数据，不支持回滚                        |
| **索引存储**  | 聚簇索引 (Clustered Index)，数据和索引存储在一起 | 非聚簇索引 (Non-clustered Index)，数据和索引分离 |
| **崩溃恢复**  | 支持崩溃恢复 (Redo Log & Undo Log)      | ❌ 崩溃后可能丢失数据                         |
| **空间占用**  | 占用空间较大，需要维护事务日志                   | 占用空间较小                              |
| **全文索引**  | MySQL 5.6 及以上支持                   | ✅ 支持全文索引                            |
| **适用场景**  | 高并发读写、大量事务、金融、电商                  | 日志存储、搜索引擎、数据分析                      |

## 1.事务支持

* InnoDB: ✅ 支持事务，符合 ACID（原子性、一致性、隔离性、持久性）特性，允许事务回滚，确保数据完整性。
* MyISAM: ❌ 不支持事务，数据写入后不可回滚，适合 查询密集型 场景，不适用于 金融、电商 等事务要求高的系统。

## 2.锁机制

* InnoDB: 行级锁（Row Locking），可以针对行数据进行锁定，提高并发性能，适用于 高并发写操作。
* MyISAM: 表级锁（Table Locking），每次写操作锁住整个表，写操作影响查询，并发性能低。

## 3.外键支持

* InnoDB: ✅ 支持外键 (Foreign Key)，可以设置外键约束，保证数据完整性。例如，删除父表数据时会级联删除子表数据。
* MyISAM: ❌ 不支持外键，仅适用于无外键关系的数据存储，比如日志存储。

## 4.查询速度

* InnoDB: 适合高并发写操作，支持 MVCC（多版本并发控制），读写不互斥，提升查询效率。
* MyISAM: 适合读多写少的场景，查询速度快，写入数据时容易阻塞查询，适用于数据分析、搜索引擎等高读低写应用。

## 5.数据完整性

* InnoDB: 支持回滚，数据一致性高，例如在事务执行过程中，如果发生错误或异常，可以回滚到事务开始前的状态，保证数据不被破坏。
* MyISAM: 不支持回滚，数据写入后不可撤销，可能会导致数据丢失，在崩溃时会影响数据完整性。

## 6.索引存储

* InnoDB: 聚簇索引（Clustered Index），数据和索引存储在一起，主键索引存储的数据更紧密，适合 高频查询。
* MyISAM: 非聚簇索引（Non-clustered Index），数据和索引分离，索引存储较小，查询速度更快，但数据存取可能会产生额外的磁盘 IO。

## 7.崩溃恢复

* InnoDB: ✅ 支持崩溃恢复，通过 Redo Log（重做日志） 和 Undo Log（回滚日志） 来确保数据库在崩溃后可以恢复事务数据，适用于金融、电商等对数据可靠性要求高的场景。
* MyISAM: ❌ 崩溃后可能丢失数据，没有事务日志，数据库崩溃后无法恢复数据，不适合高可靠性场景。

## 8.空间占用

* InnoDB: 占用空间较大，因为支持事务日志（Redo Log & Undo Log），同时会维护 MVCC 多版本并发控制，提高并发能力的同时会消耗更多的磁盘空间。
* MyISAM: 占用空间较小，没有事务日志，数据存储较为紧凑，适用于 数据分析、日志存储 等低存储成本场景。

## 9.全文索引

* nnoDB: MySQL 5.6 及以上支持 全文索引，适用于搜索引擎等场景，但性能比 MyISAM 略低。
* MyISAM: ✅ 天然支持全文索引，在 全文搜索 场景比 InnoDB 更快，适用于日志存储、搜索引擎等场景。

## 10.适用场景



| 数据库类型      | 适用场景                         |
| ---------- | ---------------------------- |
| **InnoDB** | 高并发读写、大量事务、金融、电商、社交网络、ERP 系统 |
| **MyISAM** | 日志存储、全文搜索、数据分析、搜索引擎、只读数据     |

## 总结

* 如果你的应用需要事务、安全性、并发处理，选择 InnoDB。
* 如果你的应用主要是查询密集型的、对数据安全性要求不高，选择 MyISAM。

